@inherits InputBase<bool>

<input type="checkbox" @attributes="@attributes" @bind="@CurrentValue" class="peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 text-primary focus:ring-primary @classes" />

@code {
    protected IReadOnlyDictionary<string, object>? attributes;
    protected string classes = "";

    protected override void OnParametersSet()
    {
        base.OnParametersSet();

        classes = $"{AdditionalAttributes.GetValueOrDefault("class")}";

        attributes =
          AdditionalAttributes
          .Where(x => x.Key != "class")
          .ToDictionary(k => k.Key, v => v.Value);
    }

    protected override bool TryParseValueFromString(string? value, out bool result, out string? validationErrorMessage)
        => throw new NotSupportedException($"This component does not parse string inputs. Bind to the '{nameof(CurrentValue)}' property, not '{nameof(CurrentValueAsString)}'.");
}